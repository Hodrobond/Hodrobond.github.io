{"componentChunkName":"component---src-templates-blog-post-js","path":"/project-euler-3/","result":{"data":{"site":{"siteMetadata":{"title":"Contemplating Imponderables"}},"markdownRemark":{"id":"acd92e13-0cc2-5367-8dac-0132981992c4","excerpt":"Wow, THREE posts in one day? Largest prime factor The prime factors of 13195 are 5, 7, 13 and 29.\nWhat is the largest prime factor of the number 60085147514…","html":"<p>Wow, <em>THREE</em> posts in one day?</p>\n<h3>Largest prime factor</h3>\n<blockquote>\n<p>The prime factors of 13195 are 5, 7, 13 and 29.<br/>\nWhat is the largest prime factor of the number 600851475143 ?</p>\n</blockquote>\n<p>Well, 600851475143 is a pretty large number, but it doesn’t require any special coercions yet. 12 digits is reasonable.</p>\n<h4>The Fool begins his journey</h4>\n<p>Oh, Oh, I know, I know! Let’s just do an iteration, modulus, check primality, and store the highest! Maybe something like…</p>\n<p>{% highlight javascript %}\nfunction isPrime(n){\nfor(var i=2; i&#x3C;n; i++){\nif(n % i === 0)\nreturn false\n}\nreturn true;\n}\nfunction getLargestPrimeFactor(n){\nvar largest = 0;\nfor(var i=0; i&#x3C;n; i++){\nif(n % i === 0 &#x26;&#x26; isPrime(i))\nlargest = i;\n}\nreturn largest;\n}\n{% endhighlight %}</p>\n<p>Alrighty, let’s try a smaller input we’re aware of the answer for: 13195.</p>\n<p>The average from 100 iterations took\n0.21744999999999962 ms</p>\n<p>Well, that’s taking quite a while and we still have 7 more digits to add! Let’s see if we can find something better!</p>\n<h4>The Fool meets the Magician</h4>\n<p>Let’s try using that <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\">Sieve of Eratosthenes</a> I like so much. Will the right tool help?</p>\n<p>{% highlight javascript %}\nfunction sievePrimes(n){\nvar arr = [];\nvar primes = [2];\nfor(var i=0; i&#x3C;n; i++){\narr[i] = true;\n}\narr[0] = false;\narr[1] = false;\narr[2] = false;\nfor(var i=3; i&#x3C;n;i+=2){\nif(arr[i] !== false){\narr[i] = false;\nprimes.push(i);\nfor(var j=i; j&#x3C;n;j+=i){\narr[j] = false;\n}\n}\n}<br>\nreturn primes;\n}\nvar primes = sievePrimes(2000000);\nfunction isPrime(n){\nfor(var i=0; i&#x3C;primes.length; i++){\nif(primes[i] === n)\nreturn true;\nif(primes[i] > n)\nreturn false;\n}\nreturn false;\n}</p>\n<p>  function getLargestPrimeFactor(n){\nvar largest = 0;\nfor(var i=0; i&#x3C;n; i++){\nif(n % i === 0 &#x26;&#x26; isPrime(i))\nlargest = i;\n}\nreturn largest;\n}\n{% endhighlight %}</p>\n<p>the average iteration from 100 took:\n0.14749999999999885 ms</p>\n<p>Alrighty. We’ve got an improvement on our small N. We’ve also tackled the issue of determining primality for larger numbers which will become evident with larger inputs.</p>\n<h4>The Fool meets the High Priestess</h4>\n<p>Let’s calm down, take a step back and figure out what we actually want.\nThe largest prime factor. So we need to find primes and determine if they are factors, or find factors and determine if they are prime…right?\nWhy not just find the prime factors directly?</p>\n<p>{% highlight javascript %}\nfunction getSolution(){\nvar n = 600851475143;\nvar half = Math.floor(n/2);\nfor(var i=2; i&#x3C;half; i++){\nif(n%i === 0){\n//divide the number by the factor\nn = n/i;\n//The last factor will be the largest\nif(n === 1)\nreturn i;\ni—; //make sure duplicate factors are caught\n}\n}\n}\n{% endhighlight %}</p>\n<ol>\n<li>Iterate up until half of the number.</li>\n<li>There is no way ∃ n ∋ k/2 &#x3C; n &#x3C; k &#x26;&#x26; k % n == 0 where n and k are integers.</li>\n<li>i will iterate until half of n, bumping into all of the factors along the way.</li>\n<li>Starting the count at 2, we ensure all the small primes are removed first. 10/2 == 5.</li>\n<li>Removing factors significantly reduces the number of iterations required (10000 / 2 == 5000, we’ve already split the numbers we must iterate through in half!)</li>\n<li>By removing every factor incrementally, we can ensure there is no smaller i for which n is divisible. 20 is divisible by 10, but it’s also divisible by 2. 20 / 2 == 10 —> 10 / 2 == 5 —> any non-prime number won’t appear.</li>\n</ol>\n<p>For the same input (13195), the average iteration took:\n0.0012000000000000454 ms</p>\n<p>Well, that’s an entirely different tier of improvement!</p>\n<p>Let’s try it with our large input (600851475143).\naverage iteration:\n0.1238499999999999 ms</p>\n<p>Well it looks like our final solution works faster on the 12 digit input than our initial solution did on the 5 digit input. I’ll call that an improvement.</p>","frontmatter":{"title":"Let's Solve Project Euler Problem 3","date":"June 13, 2017","description":"Euler Problem 3"}}},"pageContext":{"slug":"/project-euler-3/","previous":{"fields":{"slug":"/project-euler-1/"},"frontmatter":{"title":"Let's Solve Project Euler Problem 1"}},"next":{"fields":{"slug":"/project-euler-2/"},"frontmatter":{"title":"Let's Solve Project Euler Problem 2"}}}},"staticQueryHashes":["1246554614","2841359383"]}